<!doctype html>

<body>
    <canvas id="gameCanvas" width="400" height="600"></canvas>
    <script>
        /*do{
            name = prompt("What is your name?"); // asks the user what their name is and stores it in the name variable
        }
        while(name == "null" || name == "" ); // forces the user input something*/
        var canvas, canvasContext, imageAssets;
        
        
    
        
        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');
            imageAssets = loadImgAssets();
            
            
            
            document.addEventListener('keydown', keyPressed); 
            document.addEventListener('keyup', keyReleased)
            
            setInterval(mainLoop, 1000 / 50);
        }
        
        /* ship info */
        var shipXpos = 200;
        var shipYpos = 530;
        const SHIP_SIZE = 60;
        
        
        /* ship movement */
        const LEFT_ARROW_KEY = 37;
        const RIGHT_ARROW_KEY = 39;
        var leftArrowKeyPressed = false;
        var rightArrowKeyPressed = false;
        var shipXspeed = 4;
        
        var score = 0;
        
        function mainLoop() {
            colorRect(0, 0, canvas.width, canvas.height, 'black') //bg
            //colorRect(shipXpos ,shipYpos, SHIP_SIZE, SHIP_SIZE, 'white')
            drawShip(imageAssets.ship, shipXpos, shipYpos, SHIP_SIZE, SHIP_SIZE);
            shipMove();
            drawText(20,20,'White','Score: ' + score, '20px Arial');
             
        }
        
        function loadImgAssets(){
            imgs = {};
            
            imgs.ship = new Image();
            imgs.ship.src = 'ship.png';
            
            
            
            return imgs;
        }
        
        function drawShip(img, dX, dY, dW, dH){
            canvasContext.drawImage(img, dX, dY, dW, dH);
        }
        
        function colorRect(x, y, w, h, color) {
            canvasContext.fillStyle = color;
            canvasContext.fillRect(x, y, w, h);
        }
        
        function keyPressed(evt) {
            if (evt.keyCode == LEFT_ARROW_KEY) {
                leftArrowKeyPressed = true;
            }
            if (evt.keyCode == RIGHT_ARROW_KEY) {
                rightArrowKeyPressed = true;
            }
        }

        function keyReleased(evt) {
            if (evt.keyCode == LEFT_ARROW_KEY) {
                leftArrowKeyPressed = false;
            }
            if (evt.keyCode == RIGHT_ARROW_KEY) {
                rightArrowKeyPressed = false;
            }
        }
        
        function shipMove() {
            if (leftArrowKeyPressed) {
                shipXpos -= shipXspeed;
            }
            if (rightArrowKeyPressed) {
                shipXpos += shipXspeed;
            }
        }
        
        function drawText(x,y,color,msg, sizeStyle){
            canvasContext.fillStyle = color;
            canvasContext.fillText(msg,x,y);
            canvasContext.font = sizeStyle;
        }
        
    </script>
</body>
